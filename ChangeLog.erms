2011-09-21  H.J. Lu  <hongjiu.lu@intel.com>

	* sysdeps/i386/i686/multiarch/bzero-erms.S: New.
	* sysdeps/i386/i686/multiarch/memcpy-erms.S: Likewise.
	* sysdeps/i386/i686/multiarch/memmove-erms.S: Likewise.
	* sysdeps/i386/i686/multiarch/mempcpy-erms.S: Likewise.
	* sysdeps/i386/i686/multiarch/memset-erms.S: Likewise.

	* sysdeps/i386/i686/multiarch/Makefile (sysdep_routines): Add
	bzero-erms, memcpy-erms, memmove-erms, mempcpy-erms and
	memset-erms.

	* sysdeps/i386/i686/multiarch/bzero.S: Optimize for ERMS.
	* sysdeps/i386/i686/multiarch/memcpy.S: Likewise.
	* sysdeps/i386/i686/multiarch/memcpy_chk.S: Likewise.
	* sysdeps/i386/i686/multiarch/memmove.S: Likewise.
	* sysdeps/i386/i686/multiarch/memmove_chk.S: Likewise.
	* sysdeps/i386/i686/multiarch/mempcpy.S: Likewise.
	* sysdeps/i386/i686/multiarch/mempcpy_chk.S: Likewise.
	* sysdeps/i386/i686/multiarch/memset.S: Likewise.
	* sysdeps/i386/i686/multiarch/memset_chk.S: Likewise.

	* sysdeps/i386/i686/multiarch/ifunc-defines.sym: Add
	COMMON_CPUID_INDEX_7 and FEATURE_INDEX_7.

2011-09-21  H.J. Lu  <hongjiu.lu@intel.com>

	* sysdeps/x86_64/multiarch/memset-erms.S: Check USE_AS_BZERO
	instead of USE_AS_BZERO_P.

2011-09-15  H.J. Lu  <hongjiu.lu@intel.com>

	* sysdeps/x86_64/multiarch/init-arch.c (get_common_indeces):
	Check max_cpuid and use __cpuid_count.

2011-09-15  H.J. Lu  <hongjiu.lu@intel.com>

	* sysdeps/x86_64/multiarch/Makefile (sysdep_routines): Add
	memset-erms.

	* sysdeps/x86_64/multiarch/bzero.S: Optimize for ERMS.
	* sysdeps/x86_64/multiarch/memset.S: Likewise.
	* sysdeps/x86_64/multiarch/memset_chk.S: Likewise.

	* sysdeps/x86_64/multiarch/memset-erms.S: New.

2011-09-15  H.J. Lu  <hongjiu.lu@intel.com>

	* sysdeps/x86_64/multiarch/Makefile (sysdep_routines): Add
	memcpy-erms, mempcpy-erms and memmove-erms.

	* sysdeps/x86_64/multiarch/memcpy.S: Optimize for ERMS.
	* sysdeps/x86_64/multiarch/memcpy_chk.S: Likewise.
	* sysdeps/x86_64/multiarch/memmove.c: Likewise.
	* sysdeps/x86_64/multiarch/memmove_chk.c: Likewise.
	* sysdeps/x86_64/multiarch/mempcpy.S: Likewise.
	* sysdeps/x86_64/multiarch/mempcpy_chk.S: Likewise.

	* sysdeps/x86_64/multiarch/memcpy-erms.S: New.
	* sysdeps/x86_64/multiarch/memmove-erms.S: Likewise.
	* sysdeps/x86_64/multiarch/mempcpy-erms.S: Likewise.

2011-09-15  H.J. Lu  <hongjiu.lu@intel.com>

	* sysdeps/x86_64/multiarch/ifunc-defines.sym: Add
	COMMON_CPUID_INDEX_7 and FEATURE_INDEX_7.

2011-09-15  H.J. Lu  <hongjiu.lu@intel.com>

	* sysdeps/x86_64/multiarch/init-arch.c (get_common_indeces):
	Initialize COMMON_CPUID_INDEX_7.

	* sysdeps/x86_64/multiarch/init-arch.h (bit_ERMS): New.
	(index_ERMS): Likewise.
	(COMMON_CPUID_INDEX_7): Likewise.
	(FEATURE_INDEX_7): Likewise.
	(HAS_ERMS): Likewise.
